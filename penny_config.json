{
    "wake_word": "penny",
    "vad": {
        "type": "webrtc",
        "energy_threshold": 300,
        "timeout": 1.0
    },
    "audio": {
        "input_device": 1,
        "comment": "MacBook Pro Microphone"
    },
    "stt": {
        "type": "whisper",
        "model": "base",
        "language": "en"
    },
    "tts": {
        "type": "elevenlabs",
        "streaming": true,
        "voice": "en-US-Wavenet-D",
        "speaking_rate": 0.75,
        "cache_enabled": true,
        "preload_common_phrases": true,
        "backends": [
            "elevenlabs",
            "google",
            "system",
            "say"
        ],
        "elevenlabs": {
            "voice_id": "21m00Tcm4TlvDq8ikWAM",
            "model": "eleven_monolingual_v1",
            "personality_aware": true
        }
    },
    "llm": {
        "provider": "openai_compatible",
        "base_url": "http://localhost:1234/v1",
        "api_key": "lm-studio",
        "model": "openai/gpt-oss-20b",
        "mode": "local_first",
        "temperature": 0.6,
        "presence_penalty": 0.5,
        "frequency_penalty": 0.3,
        "max_tokens": 512
    },
    "personality": {
        "profile_path": "configs/personalities/penny_unpredictable_v1.json",
        "enabled": true,
        "default_tone": "penny",
        "override_legacy_settings": true
    },
    "timeouts": {
        "vad_timeout": 3.0,
        "stt_timeout": 10.0,
        "llm_timeout": 30.0,
        "tts_timeout": 10.0
    },
    "plugins": {
        "weather": {
            "default_city": "San Francisco",
            "units": "metric"
        },
        "calendar": {
            "calendar_app": "macos",
            "default_scope": "today"
        },
        "shell": {
            "timeout": 10,
            "max_output_lines": 10
        },
        "calculations": {
            "max_precision": 6
        }
    },
    "routing_rules": {
        "enable_plugin_routing": true,
        "fallback_to_llm": true
    },
    "judgment": {
        "enabled": true,
        "log_decisions": true,
        "confidence_threshold": 0.4,
        "always_clarify_high_stakes": true
    },
    "hebbian": {
        "enabled": false,
        "db_path": "data/hebbian_learning.db",
        "quarantine": {
            "min_observations": 5,
            "min_days_span": 7,
            "min_unique_days": 3,
            "expiration_days": 30
        },
        "turn_budget": {
            "max_time_ms": 15000,
            "max_writes": 5,
            "max_lookups": 20,
            "max_queries": 10
        },
        "observability": {
            "drift_threshold_staging_count": 100,
            "drift_threshold_promotion_rate": 0.1,
            "drift_threshold_old_pattern_days": 60,
            "log_learning_events": true
        },
        "learning_safety": {
            "min_confidence": 0.7,
            "min_message_length": 5,
            "skip_if_judgment_issues": true
        },
        "caching": {
            "enabled": true,
            "size": 100,
            "refresh_interval": 50
        }
    }
}